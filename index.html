<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Shree Enterprises And Distributors</title>
  <style>
    :root{
      --bg:#f6f8fb; --card:#fff; --muted:#6b7280; --accent:#0b76ef;
      --radius:12px; --maxw:1100px; --accent-2:#25D366;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{font-family:Inter,system-ui,Arial,Helvetica,sans-serif;margin:0;background:var(--bg);color:#111}
    .wrap{max-width:var(--maxw);margin:24px auto;padding:18px}

    /* header */
    header{display:flex;gap:16px;align-items:center;justify-content:space-between}
    header .brand{display:flex;flex-direction:column}
    header h1{margin:0;font-size:20px}
    nav{display:flex;gap:8px;align-items:center}
    nav a{padding:8px 12px;border-radius:8px;text-decoration:none;color:var(--muted);border:1px solid transparent;font-size:14px}
    nav a:hover{background:#fff;border-color:#e6e9ef;color:#111}

    .controls{display:flex;gap:8px;align-items:center}
    .search{padding:10px 12px;border-radius:10px;border:1px solid #e6e9ef;background:#fff;min-width:180px}
    select,button{padding:10px;border-radius:10px;border:1px solid #e6e9ef;background:#fff}

    /* hero */
    .hero{background:linear-gradient(180deg,#ffffff, #f8fbff);border-radius:12px;padding:18px;margin:18px 0;display:flex;align-items:center;justify-content:space-between}
    .hero h2{margin:0}

    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;margin-top:16px}
    @media (max-width:980px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:600px){.grid{grid-template-columns:1fr}}

    .card{background:var(--card);border-radius:var(--radius);padding:12px;box-shadow:0 6px 18px rgba(14,30,37,0.06);display:flex;flex-direction:column;min-height:280px}
    .imgwrap{height:180px;border-radius:10px;overflow:hidden;background:#f0f4f9;display:flex;align-items:center;justify-content:center;position:relative}
    .imgwrap img{width:100%;height:100%;object-fit:cover}
    .meta{padding:10px 4px;display:flex;flex-direction:column;gap:6px;flex:1}
    .title{font-weight:700;font-size:15px}
    .desc{font-size:13px;color:var(--muted);min-height:40px}
    .price-row{display:flex;justify-content:space-between;align-items:center;margin-top:8px}
    .price{font-weight:700;color:var(--accent)}
    .btn{padding:8px 12px;border-radius:8px;border:0;background:var(--accent);color:white;cursor:pointer}
    .ghost{background:transparent;border:1px solid #e6e9ef;color:var(--muted);cursor:pointer;padding:8px 10px;border-radius:8px;display:inline-flex;align-items:center;gap:8px}
    .ghost svg{width:16px;height:16px}
    .filters{display:flex;gap:8px;align-items:center}
    footer{margin-top:28px;text-align:center;color:var(--muted);font-size:13px}

    /* modal */
    .modal-back{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:none;align-items:center;justify-content:center;padding:18px;z-index:60}
    .modal{background:var(--card);max-width:920px;width:100%;border-radius:12px;padding:18px;display:grid;grid-template-columns:1fr 1fr;gap:12px;position:relative}
    .modal .imgwrap{height:380px}
    .modal h2{margin:0}
    .close{position:absolute;right:16px;top:10px;background:transparent;border:0;font-size:20px;cursor:pointer}
    @media (max-width:800px){.modal{grid-template-columns:1fr}}

    /* arrows in modal */
    .arrow{position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,0.45);color:#fff;border:0;font-size:20px;cursor:pointer;padding:8px 10px;border-radius:50%;z-index:2}
    #prevImg{left:12px}
    #nextImg{right:12px}
    .imgCounter{position:absolute;left:50%;transform:translateX(-50%);bottom:12px;background:rgba(255,255,255,0.9);padding:6px 10px;border-radius:14px;font-size:13px;color:#333}

    /* contact */
    .contact-card{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(14,30,37,0.06);max-width:700px;margin:18px auto}

    /* small helpers */
    .icon{width:18px;height:18px;display:inline-block;vertical-align:middle}
    .whatsapp{background:linear-gradient(45deg,var(--accent-2),#1DA851);color:white}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <h1>Shree Enterprises</h1>
        <div style="color:var(--muted);font-size:13px">Authorised Dealer</div>
      </div>

      <nav>
        <a href="#home">Home</a>
        <a href="#about">About</a>
        <a href="#products">Products</a>
        <a href="#contact">Contact</a>
      </nav>

      <div class="controls">
        <input id="search" class="search" placeholder="Search products..." />
      </div>
    </header>

    <section id="home" class="hero">
      <div>
        <h2> Welcome to Shree Enterprises & Distributors </h2>
        <p style="color:var(--muted)">Quality floor mats and PVC turf — wholesale & retail. Scroll down to see products.</p>
      </div>
      <div>
        <button class="btn" onclick="document.getElementById('products').scrollIntoView({behavior:'smooth'})">View Products</button>
      </div>
    </section>

    <section id="about">
      <h3>About Us</h3>
      <p style="color:var(--muted)">Shree Enterprises is a trusted dealer and distributor of floor mats, PVC turf, and related accessories. We supply customised sizes and bulk orders for retailers and installers.</p>
    </section>

    <section id="products">
      <h3 style="margin-top:18px">Products</h3>
      <div id="grid" class="grid"></div>
      <div id="empty" class="empty" style="display:none">No products found. Try adjusting filters or add products to <code>products.json</code>.</div>
    </section>

    <section id="contact">
      <h3 style="margin-top:18px">Contact</h3>
      <div class="contact-card">
        <p><strong>Phone:</strong> <a href="tel:+917378326062">+91 73783 26062</a></p>
        <p><strong>WhatsApp:</strong> <a href="https://wa.me/917378326062" target="_blank">Chat on WhatsApp</a></p>
        <p><strong>Email:</strong> <a href="mailto:shreeterprices@email.com">shreeterprices@email.com</a></p>
        <p><strong>Address:</strong> <a href="Plot No P-25/1, Behind Dhoot Hospital, Off, Jalna Road, MIDC, Chhatrapati Sambhajinagar, Maharashtra 431006">Plot No P-25/1, Behind Dhoot Hospital, Off, Jalna Road, MIDC, Chhatrapati Sambhajinagar, Maharashtra 431006</a></p>
        <p style="color:var(--muted);margin-top:8px">Or use the WhatsApp / Call buttons on each product to contact directly.</p>
      </div>
    </section>

    <footer>© Shree Enterprises · Built with the free product catalogue template</footer>
  </div>

  <!-- modal -->
  <div id="modalBack" class="modal-back" role="dialog" aria-hidden="true">
    <div class="modal" role="document">
      <button id="closeModal" class="close">✕</button>
      <div style="position:relative;">
        <div class="imgwrap">
          <button id="prevImg" class="arrow" aria-label="Previous image">‹</button>
          <img id="modalImg" src="" alt="">
          <button id="nextImg" class="arrow" aria-label="Next image">›</button>
          <div id="imgCounter" class="imgCounter" style="display:none">1 / 3</div>
        </div>
      </div>
      <div>
        <h2 id="modalTitle"></h2>
        <p id="modalCategory" style="color:var(--muted);margin-top:6px"></p>
        <p id="modalDesc" style="margin-top:10px;color:#333"></p>
        <div style="margin-top:14px;display:flex;gap:10px;align-items:center">
          <div style="font-weight:700;font-size:18px;color:var(--accent)" id="modalPrice"></div>
          <button id="orderBtn" class="btn"><span class="icon whatsapp"> <!-- whatsapp svg -->
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M20.52 3.48A11.93 11.93 0 0 0 12 0C5.373 0 .01 5.36.01 12c0 2.117.56 4.193 1.62 6.04L0 24l6.25-1.637A11.93 11.93 0 0 0 12 24c6.63 0 12-5.373 12-12 0-1.755-.347-3.447-1.48-4.882z" fill="#25D366"/><path d="M19.11 14.66c-.35-.17-2.07-1.02-2.39-1.14-.32-.12-.55-.17-.78.17-.23.35-.9 1.14-1.1 1.37-.2.23-.4.28-.74.1-.34-.17-1.44-.53-2.74-1.7-1.01-.88-1.7-1.97-1.9-2.31-.2-.35-.02-.54.15-.71.15-.15.34-.4.51-.6.17-.2.23-.34.34-.56.11-.22.05-.42-.03-.59-.08-.17-.78-1.87-1.07-2.56-.28-.68-.56-.59-.78-.6-.2-.01-.43-.01-.66-.01-.23 0-.6.09-.92.42-.32.33-1.2 1.18-1.2 2.87s1.23 3.33 1.4 3.56c.17.23 2.42 3.7 5.86 5.05 3.44 1.35 3.44.9 4.06.84.62-.06 2.02-.82 2.31-1.61.29-.79.29-1.45.2-1.58-.09-.13-.32-.2-.67-.36z" fill="#fff"/></svg>
          </span> WhatsApp</button>
          <button id="callBtn" class="ghost"><svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M6.62 10.79a15.05 15.05 0 006.59 6.59l2.2-2.2a1 1 0 011.01-.24 11.36 11.36 0 003.55.57 1 1 0 011 1V20a1 1 0 01-1 1A17 17 0 013 4a1 1 0 011-1h2.5a1 1 0 011 1 11.36 11.36 0 00.57 3.55 1 1 0 01-.24 1.01l-2.2 2.23z"/></svg> Call</button>
          <button id="closeBtn" class="ghost">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Phone number used across template
    const PHONE = '+917378326062';
    const WA_NUMBER = '917378326062';

    /* -----------------
       PRODUCTS LOADING
       Now products are loaded from an external `products.json` file placed in the same folder.
       Create a `products.json` (example below) and edit it to add/remove products without touching this file.
    -----------------*/

    async function loadProducts(){
      try{
        const r = await fetch('products.json', {cache: 'no-store'});
        if(!r.ok) throw new Error('products.json not found (HTTP ' + r.status + ')');
        const data = await r.json();
        if(!Array.isArray(data)) throw new Error('products.json must be an array');
        return data;
      }catch(e){
        console.error('Could not load products.json — make sure the file exists and is valid JSON.', e);
        return []; // no builtin fallback: keep products external for easy editing
      }
    }

    let products = [];

    /* ---------- build category list/helpers ----------*/
    const grid = document.getElementById('grid');
    const empty = document.getElementById('empty');

    function buildCategoryOptions(){
      const categoryContainer = document.querySelector('#category');
      if(!categoryContainer) return;
      const cats = Array.from(new Set(products.map(p=>p.category))).sort();
      categoryContainer.innerHTML = '<option value="all">All categories</option>';
      cats.forEach(c=>{const o=document.createElement('option');o.value=c;o.textContent=c;categoryContainer.appendChild(o)});
    }

    function render(items){
      grid.innerHTML='';
      if(items.length===0){empty.style.display='block';return} else {empty.style.display='none'}
      for(const p of items){
        const card = document.createElement('article');card.className='card';
        const firstImg = (p.imgs && p.imgs.length) ? p.imgs[0] : '';
        card.innerHTML = `
          <div class="imgwrap"><img loading="lazy" src="${firstImg}" alt="${p.name}" onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22800%22 height=%22480%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23f0f4f9%22/><text x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 fill=%22%236b7280%22 font-size=%2220%22>Image+not+found</text></svg>'"></div>
          <div class="meta">
            <div class="title">${p.name}</div>
            <div class="desc">${p.desc || ''}</div>
            <div class="price-row">
              <div class="price">${p.price || ''}</div>
              <div style="display:flex;gap:8px">
                <button class="btn" data-id="${p.id}">View</button>
                <button class="ghost" onclick="window.open('https://wa.me/${WA_NUMBER}?text=Hello,%20I%20am%20interested%20in%20${encodeURIComponent(p.name)}','_blank')">
                  <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="#25D366" d="M20.52 3.48A11.93 11.93 0 0 0 12 0C5.373 0 .01 5.36.01 12c0 2.117.56 4.193 1.62 6.04L0 24l6.25-1.637A11.93 11.93 0 0 0 12 24c6.63 0 12-5.373 12-12 0-1.755-.347-3.447-1.48-4.882z"/><path fill="#fff" d="M19.11 14.66c-.35-.17-2.07-1.02-2.39-1.14-.32-.12-.55-.17-.78.17-.23.35-.9 1.14-1.1 1.37-.2.23-.4.28-.74.1-.34-.17-1.44-.53-2.74-1.7-1.01-.88-1.7-1.97-1.9-2.31-.2-.35-.02-.54.15-.71.15-.15.34-.4.51-.6.17-.2.23-.34.34-.56.11-.22.05-.42-.03-.59-.08-.17-.78-1.87-1.07-2.56-.28-.68-.56-.59-.78-.6-.2-.01-.43-.01-.66-.01-.23 0-.6.09-.92.42-.32.33-1.2 1.18-1.2 2.87s1.23 3.33 1.4 3.56c.17.23 2.42 3.7 5.86 5.05 3.44 1.35 3.44.9 4.06.84.62-.06 2.02-.82 2.31-1.61.29-.79.29-1.45.2-1.58-.09-.13-.32-.2-.67-.36z"/></svg> WhatsApp</button>
                <button class="ghost" onclick="window.location='tel:${PHONE}'"><svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M6.62 10.79a15.05 15.05 0 006.59 6.59l2.2-2.2a1 1 0 011.01-.24 11.36 11.36 0 003.55.57 1 1 0 011 1V20a1 1 0 01-1 1A17 17 0 013 4a1 1 0 011-1h2.5a1 1 0 011 1 11.36 11.36 0 00.57 3.55 1 1 0 01-.24 1.01l-2.2 2.23z"/></svg> Call</button>
              </div>
            </div>
          </div>
        `;
        grid.appendChild(card);
      }
      // attach view listeners
      grid.querySelectorAll('.btn').forEach(b=>b.addEventListener('click',e=>openModal(parseInt(b.dataset.id))));
    }

    /* ---------- modal slider logic ----------*/
    let currentIndex = 0;
    let currentProduct = null;

    function openModal(id){
      currentProduct = products.find(x=>x.id===id); if(!currentProduct) return;
      currentIndex = 0;
      updateModalImage();
      document.getElementById('modalTitle').textContent = currentProduct.name;
      document.getElementById('modalCategory').textContent = currentProduct.category || '';
      document.getElementById('modalDesc').textContent = currentProduct.desc || '';
      document.getElementById('modalPrice').textContent = currentProduct.price || '';
      // set actions for modal buttons
      document.getElementById('orderBtn').onclick = ()=> window.open(`https://wa.me/${WA_NUMBER}?text=Hello,%20I%20am%20interested%20in%20${encodeURIComponent(currentProduct.name)}%20(Ref%20ID%20${currentProduct.id})`,'_blank');
      document.getElementById('callBtn').onclick = ()=> window.location = `tel:${PHONE}`;
      document.getElementById('modalBack').style.display='flex'; document.getElementById('modalBack').setAttribute('aria-hidden','false');

      // show/hide arrows and counter based on number of images
      const imgs = (currentProduct.imgs && currentProduct.imgs.length) ? currentProduct.imgs : [];
      document.getElementById('prevImg').style.display = (imgs.length>1) ? 'block' : 'none';
      document.getElementById('nextImg').style.display = (imgs.length>1) ? 'block' : 'none';
      const ctr = document.getElementById('imgCounter'); if(ctr) ctr.style.display = (imgs.length>1) ? 'block' : 'none';
    }

    function updateModalImage(){
      const imgEl = document.getElementById('modalImg');
      const imgs = (currentProduct && currentProduct.imgs && currentProduct.imgs.length) ? currentProduct.imgs : [''];
      imgEl.src = imgs[currentIndex] || '';
      imgEl.onerror = () => { imgEl.src = 'data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22600%22 height=%22400%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23f0f4f9%22/><text x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 fill=%22%236b7280%22 font-size=%2220%22>Image+not+found</text></svg>'}
      const ctr = document.getElementById('imgCounter'); if(ctr){ const len = imgs.length; ctr.textContent = `${currentIndex+1} / ${len}`; }
    }

    document.getElementById('prevImg').addEventListener('click',()=>{ if(!currentProduct) return; const len=currentProduct.imgs.length; currentIndex=(currentIndex-1+len)%len; updateModalImage(); });
    document.getElementById('nextImg').addEventListener('click',()=>{ if(!currentProduct) return; const len=currentProduct.imgs.length; currentIndex=(currentIndex+1)%len; updateModalImage(); });

    function closeModal(){ const back=document.getElementById('modalBack'); back.style.display='none'; back.setAttribute('aria-hidden','true'); }

    document.getElementById('closeModal').addEventListener('click',closeModal);
    document.getElementById('closeBtn').addEventListener('click',closeModal);
    document.getElementById('modalBack').addEventListener('click',e=>{if(e.target.id==='modalBack')closeModal()})

    /* ---------- search + filters ----------*/
    async function init(){
      products = await loadProducts();
      buildCategoryOptions();

      // wire up search / sort
      const searchInput = document.getElementById('search');
      const sortSelect = document.getElementById('sort');
      const categoryElem = document.getElementById('category');

      searchInput.addEventListener('input',applyFilters);
      if(categoryElem) categoryElem.addEventListener('change',applyFilters);
      if(sortSelect) sortSelect.addEventListener('change',applyFilters);

      render(products);
    }

    function applyFilters(){
      const q = document.getElementById('search').value.trim().toLowerCase();
      const cat = document.getElementById('category') ? document.getElementById('category').value : 'all';
      const sort = document.getElementById('sort') ? document.getElementById('sort').value : 'default';

      let items = products.filter(p=>{
        const inQ = p.name.toLowerCase().includes(q) || (p.desc||'').toLowerCase().includes(q) || (p.category||'').toLowerCase().includes(q);
        const inCat = (cat==='all') ? true : p.category===cat;
        return inQ && inCat;
      });

      if(sort==='price-asc') items.sort((a,b)=>parsePrice(a.price)-parsePrice(b.price));
      else if(sort==='price-desc') items.sort((a,b)=>parsePrice(b.price)-parsePrice(a.price));
      else if(sort==='name-asc') items.sort((a,b)=>a.name.localeCompare(b.name));

      render(items);
    }

    function parsePrice(priceStr){
      const n = (priceStr||'').replace(/[^0-9\.]/g,'');
      return parseFloat(n)||0;
    }

    // start
    document.addEventListener('DOMContentLoaded',init);
  </script>

  <!--
    === Example products.json ===
    Save this as `products.json` in the same folder as this index.html.

    [
      {
        "id": 1,
        "name": "Cushion Mats 12MM",
        "category": "Floor Mats",
        "price": "₹33 SQFT",
        "imgs": ["image/all_clr_cushion.jpg","image/all_cusion.jpg","image/cushion_roll.jpg"],
        "desc": "Width of the rolls : 2ft & 4FT Length : 40 Ft 2ft (roll) = 80 Sft 4ft (roll) = 160 Sft."
      },
      {
        "id": 2,
        "name": "PVC turf (Kata Mat)",
        "category": "Floor Mats",
        "price": "₹30 SQFT",
        "imgs": ["image/PVC_turf.jpg","image/PVC_full.jpg","image/PVC_turf_2.jpg"],
        "desc": "Width of the rolls : 2ft & 4FT Length : 50 Ft 2ft (roll) 100 Sft."
      }
    ]

    Note: use unique numeric `id` for each product. Adjust image paths to match your repo.
  -->
</body>
</html>
